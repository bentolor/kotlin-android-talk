<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Kotlin für die moderne Android-Entwicklung</title>
    <meta name="description"
          content="Android-Entwickler können nur sehnsüchtig seufzen: Die neuen Java-8-Möglichkeiten bleiben ihnen vorenthalten.
              Abhilfe schafft hier die Programmiersprache Kotlin, welche dieses Jahr die 1.0 erreicht hat. Ausdrucksstarke Syntax,
              nahtlose Android Studio-Integration, funktionale Features und die vollständige Binär- und Codekompatibilität mit Java 6
              machen Kotlin auch unter Android zu einer idealen Alternative. In dieser Session erleben wir live, wie es sich anfühlt,
              die NullpointerException gegen moderne Sprachfeatures einzutauschen. Eine einfache Beispiel-App hilft beim Kennenlernen,
              sodass auch Neueinsteiger gut folgen können und interessante Einblicke in Kotlin und Android gewinnen.">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/solarized-light.css">

    <!-- Custom, overriding CSS -->
    <link rel="stylesheet" href="css/custom.css">


    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">

        <!--
          === Title ===============================================================================
        -->

        <section>
            <div style="text-align: left;">
                <h1 style="margin: 380px 0 0 0; font-size: 1.9em;">Russisch unterwegs!</h1>
                <!--<h5><i> Lightning Talk:</i></h5>-->
                <h3 style="" class="emphasize">
                    Kotlin für die <br>moderne Android-Entwicklung
                </h3>
            </div>

            <div id="version">
                2016-08-22
            </div>

            <div class="profile" style="position: absolute; top: 0; left: 900px;">
                <div class="profile-sidebar">
                    <div class="profile-userpic">
                        <img data-src="img/BenjaminSchmid.jpg" class="img-responsive" alt="">
                    </div>
                    <div class="profile-usertitle">
                        <div class="profile-usertitle-name">
                            Benjamin Schmid
                        </div>
                        <div class="profile-usertitle-job">
                            Technology Advisor
                        </div>
                    </div>
                </div>
                <div class="profile-content">
                    <a href="https://twitter.com/bentolor">@bentolor</a>
                </div>
            </div>

            <div>
                <img data-src="img/kotlin_logos/logo_Kotlin.svg"
                     style="width: 300px; position: absolute; top: 0; left: 0;"
                     class="plain" alt="Kotlin Logo"
                />
            </div>

            <div id="rightsection">
                <code>?</code> for help
            </div>

            <div id="licence">
                <!--suppress HtmlUnknownAttribute -->
                <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource"
                      property="dct:title" rel="dct:type">
                    Kotlin für die moderne Android-Entwicklung
                </span>
                by
                <a xmlns:cc="http://creativecommons.org/ns#" href="https://twitter.com/bentolor"
                   property="cc:attributionName" rel="cc:attributionURL">
                    Benjamin Schmid
                </a>
                is licensed under a
                <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                    Creative Commons License (BY-NC-SA/4.0)
                </a>.
                <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                    <img alt="Creative Commons Lizenzvertrag"
                         src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"/>
                </a>

            </div>
        </section>


        <!--
          === Overview ============================================================================
        -->
        <section>
            <section data-background="img/kotlin-island-map.png" data-transition="fade-out">
                <div data-markdown class="abs">
                    ## Was ist Kotlin?
                </div>
                <div class="fragment abs" style="right: 0; top: 620px; text-align: right">
                    <p class="large"><b>Russische Insel</b></p>
                    <p class="decent x-small">im finnischen Golf, 32km vor Petersburg</p>
                </div>
            </section>

            <section data-background="img/kotlin_logos/icon_Kotlin.svg" class="center">
                <div style="width: 100%; text-align: right;">
                    <p>statisch typisierte<br/>
                        <b><span class="x-large">Allzweck-Sprache</span></b><br/>
                        für JVM und Browser</p>
                </div>
            </section>

            <section data-background="img/kotlin_logos/icon_Kotlin.svg" class="center">
                <div data-markdown class="right x-small">
                    ## Prägnanz

                    ## Sicherheit

                    ## Ausdruckstärke <!-- Lesbarkeit -->

                    ## Interoperabilität

                    ## Tooling
                </div>
            </section>

            <section data-background="img/kotlin_logos/icon_Kotlin.svg" class="center">
                <div class="right">
                    <h2 class="large">Datenblatt</h2>

                    <p>Freie Software</p>
                    <p class="decent subline x-small">APL 2.0</p>

                    <p>backed by JetBrains</p>
                    <p class="decent subline x-small">20 Vollzeit & Community<br/>
                        „dogfooding“: 0,5 Mio. LOC</p>

                    <p>backed by JetBrains</p>
                    <p class="decent subline x-small">20 Vollzeit & Community</p>
                </div>
            </section>

        </section>

        <!--
          === Hello Kotlin! =======================================================================
        -->

        <section>

            <section class="center">
                <h1>Hello Kotlin!</h1>
            </section>

            <section>
                <h4>Im Browser mitmachen & ausprobieren</h4>
                <img data-src="img/try-kotlin.png" style="width: 100%"
                     alt="Kotlin Koans">
                <a href="http://try.kotl.in/"><b>http://try.kotl.in/</b></a>
            </section>

            <section>
                <h4>Android Studio: Plugin installieren</h4>
                <img data-src="img/install-kotlin-plugin.png"
                     alt="Kotlin Plugin installieren">
            </section>

            <section>
                <h4>Kotlin im Projekt aktivieren</h4>
                <img src="img/project-enable-kotlin.png" style="width: 80%"
                     alt="Kotlin Koans">
            </section>

            <section>
                <h3>Kotlin in Action [1]</h3>
                <pre style="width: 80%; margin: 40px 0 0 -40px"><code>import java.util.*

fun main(args: Array&lt;String&gt;) {
    val name = if (args.size > 0) args[0] else "Publikum"
    val zuschauer = Gast(name, title = Title.wertes)

    println(zuschauer)
    println("Hallo ${zuschauer.title} ${zuschauer.name}")
}

data class Gast(val name: String, var zeit: Date = Date(),
                val title: Title?)
enum class Title { Herr, Frau, wertes }                </code></pre>
                <div class="abs" style="top: 112px; left: 964px; width: 30%">
                    <p style="text-align: left; line-height: 1em; font-size: 82%">
                        <span class="fragment">&leftarrow; Optionale&nbsp;Semikolons<br></span>
                        <br>
                        <span class="fragment">&leftarrow; Top-level function<br></span>
                        <!--&leftarrow; <code>if</code> als Ausdruck<br>--><br/>
                        <span class="fragment">&leftarrow; Type inference &amp;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optional/named Params</span>
                        <br>
                        <br>
                        <span class="fragment">&leftarrow; Expressions im String<br></span>
                        <br>
                        <br>
                        <span class="fragment">&leftarrow; Data Class <br></span>
                        <span class="fragment">&leftarrow; <code>val</code> vs. <code>var</code> <br></span>
                    </p>
                </div>
            </section>

        </section>


        <!--
          === Kotlin & Android ====================================================================
        -->
        <section>
            <section>
                <h1>Kotlin & Android</h1>
            </section>
        </section>


        <!--
          === Prägnanz ============================================================================
        -->
        <section>
            <section>
                <h1>Prägnanz</h1>
            </section>


            <section class="left">
                <h2>Prägnanz – Die Basics</h2>
                <div class="twocol">
                    <h6>Type inference</h6>
                    <p>Typangabe üblichweise nur an Schnittstellen</p>

                    <h6>Konstrukte</h6>
                    <p data-markdown> `;` optional, kein `new`,    <!-- -->
                        Default: `public`, `data class`</p>

                    <h6>Keywords</h6>
                    <p data-markdown> `fun`, `Int`, `val`, …</p>
                </div>
                <div class="twocol">
                    <h6>Ausdrücke</h6>
                    <p data-markdown> `if`…`else` ist ein Ausdruck,     <!-- -->
                        String Templates, `listOf(…)`, …</p>

                    <h6>Konventionen</h6>
                    <p data-markdown></p>

                </div>
            </section>

            <section>
                <h3>Data Classes – Kotlin</h3>
                <div data-markdown class="twocol" style="padding: 30px 0;">
                    ```
                    data class Gast(
                        val name: String,
                        var zeit: Date = Date(),
                        val title: Title?
                    )
                    ```
                </div>
                <div data-markdown class="twocol left">
                    ##### Werte-Container
                    - Um Methoden erweiterbar
                    - Vererbung ab Kotlin 1.1

                    ##### Kotlin übernimmt
                    - Getter & Setter
                    - `equals()` und `hashCode()`
                    - `toString()`
                    - `copy()` für Varianten
                    - Komfort: `componentN()`
                </div>
            </section>

            <section>
                <h3>... währenddessen im Java-Land</h3>


                <div class="threecol">
                    <pre class="xx-small"><code>public final class Gast {
  @NotNull
  private final String name;
  @NotNull
  private Date zeit;
  @Nullable
  private final Title title;

  @NotNull
  public final String getName() {
    return this.name;
  }

  @NotNull
  public final Date getZeit() {
    return this.zeit;
  }

  public final void setZeit(@NotNull Date date) {
    checkParameterIsNotNull(date, "&lt;set-?&gt;");
    this.zeit = date;
  }

  @Nullable
  public final Title getTitle() {
    return this.title;
  }

  public Gast(@NotNull String name,
              @NotNull Date zeit,
              @Nullable Title title) {
    checkParameterIsNotNull(name, "name");
    checkParameterIsNotNull(zeit, "zeit");
    this.name = name;
    this.zeit = zeit;
    this.title = title;
  }></code></pre>
                </div>
                <div class="threecol">
                    <pre class="xx-small"><code>  public Gast(String string, Date date,
              Title title, int n) {
    if ((n & 2) != 0) {
      date = new Date();
    }
    this(string, date, title);
  }

  @NotNull
  public final String component1() {
    return this.name;
  }

  @NotNull
  public final Date component2() {
    return this.zeit;
  }

  @Nullable
  public final Title component3() {
    return this.title;
  }

  @NotNull
  public final Gast copy(@NotNull String name,
                         @NotNull Date zeit,
                         @Nullable Title title) {
    checkParameterIsNotNull(name, "name");
    checkParameterIsNotNull(zeit, "zeit");
    return new Gast(name, zeit, title);
  }

  public String toString() {
    return "Gast(name=" + this.name +
           ", zeit=" + this.zeit +
           ", title=" + this.title + ")";
  }
</code></pre>
                </div>
                <div class="threecol">
                    <pre class="xx-small"><code>  public int hashCode() {
    String s = this.name;
    Date d = this.zeit;
    Title t = this.title;
    return ((s != null ? s.hashCode() : 0) * 31
          + (d != null ? d.hashCode() : 0)) * 31
          + (t != null ? t.hashCode() : 0);
  }

  public boolean equals(Object object) {
    if (this == object) return true;

    if (!(object instanceof Gast))
        return false;

    Gast gast = (Gast)object;
    if (!areEqual(this.name, gast.name)
        || !areEqual(this.zeit, gast.zeit)
        || !areEqual(this.title, gast.title))
        return false;

    return true;
  }
}</code></pre>
                    <p class="decent">Übersichtlich, nein?</p>
                </div>
            </section>

            <section>
                <h2>Lesbarkeit</h2>
                <div data-markdown>
                    - Kotlin Code in der Regel wesentlich prägnanter, dennoch intuitiv lesbar: Sinn erschliesst sich leicht
                    - Gutes Tooling führt beim Entwickeln

                    Beispiel:
                    <!-- @formatter:off -->
                    ```
                    val list = listOf("a", "b", "c")
                    for (index in list.indices) {
                        println("$index -> ${list[index]}")
                    }                    }
                    ```
                    <!-- @formatter:on -->

                    Beispiel:
                    <!-- @formatter:off -->
                    ```
                    List<String> list = Arrays.asList("a","b","c");
                    for (int index = 0; index < list.size(); index++) {
                        System.out.println(index + " -> " + list.get(index));
                    }
                    ```
                    <!-- @formatter:on -->
                </div>
            </section>

        </section>



        <!--
          === Sicherheit ==========================================================================
        -->
        <section>
            <section>
                <h1>Sicherheit</h1>
            </section>

            <section>
                <h2>Safety</h2>

                - Null-reference: billion-dollar mistake!
                - Mutable by default
                - Stronger typesystem

            </section>
        </section>



        <!--
          === Ausdrucksstärke =====================================================================
        -->
        <section>
            <section>
                <h1>Ausdrucksstärke & Lesbarkeit</h1>
            </section>

            <section>
                <h2>Ausdrucksstärke</h2>
            </section>
        </section>



        <!--
          === Interoperabilität ==================================================================
        -->
        <section>
            <section>
                <h1>Interoperabilität</h1>
            </section>

            <section>
                <h2>Interoperabilität</h2>
            </section>
        </section>


        <!--
          === Tooling =============================================================================
        -->
        <section>
            <section>
                <h1>Tooling</h1>
            </section>

            <section>
                <div data-markdown>
                    ##### Convert to Kotlin
                    ...
                </div>
            </section>

            <section>
                <div data-markdown>
                    <script type="text/template">
                        ##### `lateinit`
                        ```
                        lateinit var name: String
                        var age: Int by Delegates.notNull
                        <String>()
                            ```
                    </script>
                </div>
            </section>

            <section>
                <div data-markdown>
                    <script type="text/template">
                        ##### `lateinit`
                        ```
                        val imm: InputMethodManager by lazy {
                        getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager
                        }
                        ```
                    </script>
                </div>
            </section>

            <section>
                <div data-markdown>
                    <script type="text/template">
                        ##### No static modifier

                        Following on the previous point, Kotlin has unusual handling of static function and property declarations that are called from Java. It’s not bad, but it feels dirtier than necessary. For example, the Android View class defines some static constants like View.VISIBLE and static methods like View.inflate:

                        ```
                        public class View {
                        public static final int VISIBLE = 0x00000000;
                        public static final int INVISIBLE = 0x00000004;
                        public static View inflate(Context context, int resource) {...}
                        }
                        ```
                        ```
                        class View {
                        companion object {
                        @JvmField
                        val VISIBLE: Int = 0x00000000
                        @JvmField
                        val INVISIBLE: Int = 0x00000004
                        @JvmStatic
                        fun inflate(context: Context, resource: Int) {...}
                        }
                        }
                        }


                        // With annotations:
                        View.VISIBLE;

                        //Without annotations:
                        View.Companion.getVISIBLE();
                        ```
                    </script>
                </div>
            </section>

            <section>
                <div data-markdown>
                    <script type="text/template">
                        ##### Method count
                        Writing code in Kotlin will certainly reduce the number of lines of code in your project. But it will also probably increase the method count of the compiled code, which is of course a drawback if you’re using Android. There are a number of reasons for that, but one of the larger contributors is the way Kotlin implements properties.

                        Unlike Java, the Kotlin language doesn’t provide any way to define a bare field. All val and var declarations instead create a property.

                        If you are close to the method limit in your android app, I recommend using the workaround of applying the @JvmField annotation on public constants for which you don’t expect to need a custom getter for in the future. This will prevent the getters from being generated, and can cut down on your method count.

                        It’s not all bad, though. As I discussed in my article on converting an app to 100% Kotlin, the Kotlin standard library is small and can replace a number of common Java libraries that are much larger once you don’t need them in Java any more. Thanks to the standard library, the method count in that app decreased after converting it to Kotlin. So as long as you avoid the big areas that can increase your method count, you may end up ahead in the end.
                    </script>
                </div>
            </section>

            <section>
                <div data-markdown>
                    <script type="text/template">
                        ##### bidirektionales interop
                        Gerade auf dem Weg zurück unagenehm

                        ##### Keine SAMs, da
                        ```
                        fun registerCallback(r: () -> Unit)
                        ```

                        in Java wie folgt aufgerufen muss

                        ```
                        registerCallback(() -> {
                        /** do stuff */
                        return Unit.INSTANCE;
                        })
                        ```

                        Ergo: Libaries für Java eher in JAva
                    </script>
                </div>
            </section>

            <section>
                <div data-markdown>
                    <script type="text/template">
                        ##### final by default
                        - functions!

                        #####  public by default

                        ##### Kein `package protected`
                    </script>
                </div>
            </section>

            <section>
                <div data-markdown>
                    <script type="text/template">
                        ### REPL: `jshell`

                        ```
                        ⋊> ~ jshell
                        |  Welcome to JShell -- Version 9-ea
                        |  For an introduction type: /help intro

                        jshell> 3 + 4 * 7
                        $1 ==> 31

                        jshell> int add(int a, int b) {
                        ...>   return a+b;
                        ...> }
                        |  created method add(int,int)

                        jshell> add(25, $1)
                        $3 ==> 56
                        ```
                        <!-- .element: class="small" -->

                        Get an overview with `/help` and  `/help shortcuts`
                    </script>
                </div>
            </section>

            <section>
                <div data-markdown class="container">
                    <script type="text/template">
                        ### HTML5 Javadoc
                        - Enable via `-html5` parameter
                        - Search capability
                        - HTML5 & updated Doclet API
                        - Improved DocLint:
                        <span>`-Xdoclint/package:java.*,javax.*`</span> <!-- .element: class="small" -->
                    </script>
                </div>
            </section>
        </section>


        <!--
          === Die Praxis =========================================================================
        -->
        <section>
            <section>
                <h1>Die Praxis</h1>
            </section>

            <section>
                <h2>Interoperabilität</h2>
            </section>
        </section>


        <!--
          === Fazit ==== =========================================================================
        -->
        <section>
            <section>
                <h1>Fazit></h1>
            </section>

            <section>
                <h2>Fazit</h2>
            </section>


            <section class="small">
                <div data-markdown>
                    ## Quellen
                </div>

                <div class="threecol small" data-markdown>
                    ##### Materialien für den Einstieg

                </div>

                <div class="threecol small" data-markdown>
                    ##### Frameworks
                </div>

                <div class="threecol small" data-markdown>
                    ##### Bildnachweis
                    - [Kotlin Islands Maps](https://commons.wikimedia.org/wiki/File:Kotlin_Island_1706.png)
                </div>
            </section>

        </section>

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,
        progress: true,
        slideNumber: true,
        mouseWheel: true,
        controls: false,
        width: 1280,
        height: 720,
        margin: 0.1,
        maxScale: 10,
        center: false,
        parallaxBackgroundImage: 'img/kotlin-island-map-light.png', // 'http://jamescroft.co.uk/wp-content/uploads/2015/01/217-L6YVU1.jpg',
        parallaxBackgroundSize: '4177px 2118px',

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true}  // Zoom in and out with Alt+click
        ]
    });
</script>
</body>
</html>

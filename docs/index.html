<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Kotlin für die moderne Android-Entwicklung</title>
    <meta name="description"
          content="Android-Entwickler können nur sehnsüchtig seufzen: Die neuen Java-8-Möglichkeiten bleiben ihnen vorenthalten.
              Abhilfe schafft hier die Programmiersprache Kotlin, welche dieses Jahr die 1.0 erreicht hat. Ausdrucksstarke Syntax,
              nahtlose Android Studio-Integration, funktionale Features und die vollständige Binär- und Codekompatibilität mit Java 6
              machen Kotlin auch unter Android zu einer idealen Alternative. In dieser Session erleben wir live, wie es sich anfühlt,
              die NullpointerException gegen moderne Sprachfeatures einzutauschen. Eine einfache Beispiel-App hilft beim Kennenlernen,
              sodass auch Neueinsteiger gut folgen können und interessante Einblicke in Kotlin und Android gewinnen.">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/solarized-light.css">

    <!-- Custom, overriding CSS -->
    <link rel="stylesheet" href="css/custom.css">


    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<img src="img/eXXcellent%20logo-transparent.png" id="exxcellent-logo"
     alt="eXXcellent solutions GmbH Logo"
/>

<div class="reveal">
    <div class="slides">

        <!--
          === Title ===============================================================================
        -->

        <section data-background-color="#fff">
            <img data-src="img/eXXcellent%20logo-transparent.png"
                 style="width: 320px; position: absolute; top: 0; left: 0;"
                 class="plain" alt="eXXcellent solutions GmbH Logo"
            />

            <div style="text-align: left;">
                <h1 style="margin: 380px 0 0 0; font-size: 1.9em;" class="emphasize">Russisch unterwegs!</h1>
                <img data-src="img/kotlin_logos/logo_Kotlin.svg"
                     style="width: 200px; position: absolute; top: 506px; left: 4px;"
                     class="plain" alt="Kotlin Logo"
                />
                <h3 style="left: 220px; top: 503px;" class="abs">für die moderne</h3>
                <h3 style="left: 220px; top: 568px;" class="abs">Android-Entwicklung</h3>
            </div>

            <div id="version">
                2016-08-22
            </div>

            <div class="profile" style="position: absolute; top: 0; left: 900px;">
                <div class="profile-sidebar">
                    <div class="profile-userpic">
                        <img data-src="img/BenjaminSchmid.jpg" class="img-responsive" alt="">
                    </div>
                    <div class="profile-usertitle">
                        <div class="profile-usertitle-name">
                            Benjamin Schmid
                        </div>
                        <div class="profile-usertitle-job">
                            Technology Advisor
                        </div>
                    </div>
                </div>
                <div class="profile-content">
                    <a href="https://twitter.com/bentolor">@bentolor</a>
                </div>
            </div>

            <div id="rightsection">
                <code>?</code> for help
            </div>

            <div id="licence">
                <!--suppress HtmlUnknownAttribute -->
                <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource"
                      property="dct:title" rel="dct:type">
                    Kotlin für die moderne Android-Entwicklung
                </span>
                by
                <a xmlns:cc="http://creativecommons.org/ns#" href="https://twitter.com/bentolor"
                   property="cc:attributionName" rel="cc:attributionURL">
                    Benjamin Schmid
                </a>
                is licensed under a
                <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                    Creative Commons License (BY-NC-SA/4.0)
                </a>.
                <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                    <img alt="Creative Commons Lizenzvertrag"
                         src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"/>
                </a>

            </div>
        </section>


        <!--
          === Overview ============================================================================
        -->
        <section>
            <section data-background="img/kotlin-island-map.png" data-transition="fade-out">
                <div data-markdown class="abs">
                    ## Was ist Kotlin?
                </div>
                <div class="fragment abs" style="right: 0; top: 620px; text-align: right">
                    <p class="large"><b>Russische Insel</b></p>
                    <p class="decent x-small">im finnischen Golf, 32km vor Petersburg</p>
                </div>
            </section>

            <section data-background="img/kotlin_logos/icon_Kotlin.svg" data-background-color="#fff" class="center">
                <div style="width: 100%; text-align: right;">
                    <p>statisch typisierte<br/>
                        <b><span class="x-large">Allzweck-Sprache</span></b><br/>
                        für JVM und Browser</p>
                </div>
            </section>

            <section data-background="img/kotlin_logos/icon_Kotlin.svg" data-background-color="#fff" class="center">
                <div data-markdown class="right" style="font-size: .8em">
                    ## Prägnanz

                    ## Sicherheit

                    ## Ausdruckstärke <!-- Lesbarkeit -->

                    ## Interoperabilität

                    ## Tooling
                </div>
            </section>

            <section data-background="img/kotlin_logos/icon_Kotlin.svg" data-background-color="#fff" class="center">
                <div class="right">
                    <h2 class="large">Datenblatt</h2>

                    <p>Freie Software</p>
                    <p class="decent subline x-small">APL 2.0 – IDE, compiler, libs, build tools</p>

                    <p>backed by JetBrains</p>
                    <p class="decent subline x-small">20 Vollzeit & Community<br/>
                        „dogfooding“: 0,5 Mio. LOC</p>

                    <p>Stabil</p>
                    <p class="decent subline x-small">Start: ~2010, v1.0 Feb. '16<br/>Long-term backward compatibility</p>

                    <p>Integrationen</p>
                    <p class="decent subline x-small">IntelliJ, Eclipse<br> Maven, Ant, Gradle</p>
                </div>
            </section>

        </section>

        <!--
          === Hello Kotlin! =======================================================================
        -->

        <section>

            <section class="center">
                <h1>Hello Kotlin!</h1>
            </section>

            <section>
                <h4>Im Browser mitmachen & ausprobieren</h4>
                <img data-src="img/try-kotlin.png" style="width: 100%"
                     alt="Kotlin Koans">
                <a href="http://try.kotl.in/"><b>http://try.kotl.in/</b></a>
            </section>

            <!--<section class="center"><h1>Showtime!</h1></section>-->

            <section>
                <h4>Android Studio – 1. Plugin installieren</h4>
                <img data-src="img/install-kotlin-plugin.png"
                     alt="Kotlin Plugin installieren">
            </section>

            <section>
                <h4>Android Studio – 2. Kotlin im Projekt aktivieren</h4>
                <img src="img/project-enable-kotlin.png" style="width: 80%"
                     alt="Kotlin Koans">
            </section>

            <section>
                <h3>Kotlin in Aktion</h3>
                <pre style="width: 80%; margin: 40px 0 0 -40px"><code style="font-size: 1.2em;">import java.util.*

fun main(args: Array&lt;String&gt;) {
    val name = if (args.size > 0) args[0] else "Publikum"
    val zuschauer = Gast(name, title = Title.wertes)

    println(zuschauer)
    println("Hallo ${zuschauer.title} ${zuschauer.name}")
}

data class Gast(val name: String, var zeit: Date = Date(),
                val title: Title?)
enum class Title { Herr, Frau, wertes }                </code></pre>
                <div class="abs" style="top: 112px; left: 964px; width: 30%">
                    <p style="text-align: left; line-height: 1em; font-size: 82%">
                        <span class="fragment">&leftarrow; Optionale&nbsp;Semikolons<br></span>
                        <br>
                        <span class="fragment">&leftarrow; Top-level function<br></span>
                        <!--&leftarrow; <code>if</code> als Ausdruck<br>--><br/>
                        <span class="fragment">&leftarrow; Type inference &amp;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optional/named Params</span>
                        <br>
                        <br>
                        <span class="fragment">&leftarrow; Expressions im String<br></span>
                        <br>
                        <br>
                        <span class="fragment">&leftarrow; Data Class <br></span>
                        <span class="fragment">&leftarrow; <code>val</code> vs. <code>var</code> <br></span>
                    </p>
                </div>
            </section>

        </section>


        <!--
          === Kotlin & Android ====================================================================
        -->
        <section>
            <section class="center">
                <img src="img/kotlin_logos/icon_Kotlin.svg"
                     style="height: 80px; left: 920px; top: 30px"
                     class="abs plain"
                     alt="Kotlin Icon"/>
                <img src="img/android-robot.svg"
                     style="height: 90px; left: 920px; top: 130px"
                     class="abs plain"
                     alt="Google Android Logo"/>
                <h1 style="text-align: right; margin-right: 400px; padding-right: 40px; border-right: 5px solid black">Kotlin<br/>&
                    Android</h1>
            </section>

            <section>
                <h2><img src="img/kotlin_logos/icon_Kotlin.svg" style="height: 52px;" class="plain" alt="Kotlin Icon"/>
                    +
                    <img src="img/android-robot.svg" style="height: 52px;" class="plain" alt="Google Android Logo"/>
                    – Ein Dream-Team?
                </h2>
                <div>
                    <ul>
                        <li class="fragment">konzipiert für den <strong>industriellen Einsatz</strong></li>
                        <li class="fragment"><strong>viele Vorteile</strong>
                            <span class="small decent subline">
                                – effizientere Entwicklung, verbesserte Code-Lesbarkeit,
                            </span>
                            <div class="small decent subline lgap">Nullpointer Sicherheit,
                                Extension methods, infix Notation, …
                            </div>
                        </li>
                        <li class="fragment">erzeugt von Haus aus <strong>Java 6 Bytecode</strong>
                            <div class="small decent subline lgap">Java 8 + Android: in Teilen mit Android N,
                                Jack compiler oder retrolambda
                            </div>
                        </li>
                        <li class="fragment"><strong>100% Java Kompatibilität</strong>
                            <span class="small decent subline">
                                – freies Mischen von Java & Kotlin-Code
                            </span>
                        </li>
                        <li class="fragment">
                            Exzellentes <strong>Tooling</strong>
                            <ul class="small decent">
                                <li><b>hauseigener</b> IDE-Support (IDEA &amp; Android Studio)</li>
                                <li>Gradle (Androids <b>Buildsystem</b>) seit v3.0 mit Kotlin</li>
                            </ul>
                        </li>
                        <li class="fragment">Dedizierte <strong>Frameworks</strong> &amp; <strong>DSLs</strong>
                            <span class="small decent subline">
                                – Kotlin Android Extensions &amp; Anko
                            </span>
                        </li>
                        <li class="fragment">Kleine Runtime <span class="small decent subline"> – ca. 736KB in 1.0.3
                            </span></li>
                    </ul>
                </div>
                <div class="abs handwritten fragment"
                     style="width: 530px;  transform: rotate(-13deg); left: 820px; top: 620px">
                    Im Verlauf der Session dazu später mehr!
                </div>
            </section>

        </section>


        <!--
          === Sicherheit ==========================================================================
        -->
        <section>
            <section class="center">
                <h1>Sicherheit</h1>
            </section>

            <section data-background-video="img/atomic-bomb.mp4">
                <h2 style="color: #fff">The <br>billion-dollar <br>mistake</h2>

                <div style="margin-top: 400px;" class="fragment">
                    <code>null</code> <span style="color:white">und die</span>
                    <code>java.lang.NullPointerException</code>
                </div>

            </section>

            <section>
                <h3>non-nullable vs. nullable Typen</h3>

                <div data-markdown class="left tgap">
                    Nur dedizierten Typen mit einem `?`-Suffix kann `null` zugewiesen werden

                    ```kotlin
                    var nullable: String? = null
                    var nonNullable: String = "Hi!"
                    ```

                    Der *ungeprüfte Zugriff* auf `null`-fähige Typen ist *nicht erlaubt*

                    An den Schnittstellen baut Kotlin Prüfungen & `@NotNull` Annotationen ein
                </div>
            </section>

            <!--<section class="center"><h1>Showtime!</h1></section>-->

            <section>
                <h3>Umgang mit <code>null</code>-Typen</h3>
                <div class="smaller">
                    <div data-markdown class="left twocol">
                        ###### Ich-weiss-es-besser &trade;
                        ```kotlin
                        nullable!!.toUpperCase()
                        ```

                        ###### safe nagivation operator
                        ```kotlin
                        nullable?.toUpperCase()
                        ```

                        ###### null coalescing operator (Elvis)
                        ```kotlin
                        nullable?.toUpperCase() ?: ""
                        // oder
                        nullable ?: throw Exception("Nö")
                        ```
                    </div>
                    <!-- @formatter:off -->
                    <div data-markdown class="left twocol">
                        ###### Smartcast
                        ```kotlin
                        if (nullable != null) {
                         return nullable.toUpperCase()
                        }
                        ```

                        ###### Was ist mit Java?
                    </div>
                    <!-- @formatter:on -->

                    <p class="small">Spezieller Typ <code>Klasse!</code></p>
                    <img src="img/java-nullable.png" class="plain" style="width: 540px">
                    <p class="small decent">Kann nicht mit Kotlin erzeugt werden! </p>
                </div>
                <div data-markdown style="clear: both" class="left">
                </div>
            </section>

            <!--<section class="left" data-transition="fade-out">-->
                <!--<h3>typische Android-Problemstellung</h3>-->
                <!--<div data-markdown class="bgap">-->
                    <!--Felder werden häufig nicht im Konstruktor, sondern erst beim späteren `onCreate(…)`-->
                    <!--initalisiert.-->
                <!--</div>-->
                <!--<h1 class="tgap fragment center">Showtime!</h1>-->
            <!--</section>-->

            <section class="left" data-transition="fade-in">
                <h3>typische Android-Problemstellung</h3>
                <div data-markdown class="bgap">
                    Felder werden häufig nicht im Konstruktor, sondern erst beim späteren `onCreate(…)`
                    initalisiert.

                    ##### Lösung #1 : `lateinit`
                    ```kotlin
                    lateinit var name: String
                    ```

                    ##### Lösung #2 : Property-Delegation
                    ```kotlin
                    var otherNonNullable: String by Delegates.notNull()
                    ```
                </div>
                <p class="decent">
                    In beiden Fällen wirft Kotlin eine sprechende Exception, falls das Property nicht
                    ordentlich initialisiert wurde.
                </p>
            </section>

            <section>
                <div class="left">
                    <h3>First-class immutables</h3>
                    <p class="tgap"><strong>Nur-lesbare Variablen</strong>
                        aufwandsfrei durch <code>val</code> statt <code>var</code></p>

                    <p class="tgap"><strong>Standard-Collections</strong> sind read-only</p>
                    <p class="decent lgap small">Das Standard-Interface in Kotlin bietet nur die Leseoperationen an.<br>
                        Möchte man Einträge verändern benötigt man z.B. <code>MutableList</code> statt <code>List</code>
                        <br>
                        Achtung: Keine Laufzeit-Checks à la <code>Collections.unmodifiableX()</code>
                    </p>

                    <p class="tgap"><strong>geschlossene Klassen und Methoden</strong></p>
                    <p class="decent lgap small">Sowohl Klassen als auch Methoden sind <code>final</code> by default!
                    <pre style="width: 600px; margin: 0 60px"><code class="kotlin">open class ExtendableClass {
    open fun overridableMethod() { … }
}</code></pre>
                    </p>
                </div>
                <div class="abs handwritten fragment"
                     style="width: 530px;  transform: rotate(7deg); left: 760px; top: 500px; color:  red">
                    mutig!<br>… aber nicht ganz unproblematisch
                </div>

            </section>
        </section>


        <!--
          === Prägnanz ============================================================================
        -->
        <section>
            <section class="center">
                <h1>Prägnanz</h1>
            </section>

            <section>
                <!--<h3>Lesbarkeit</h3>-->
                <div>
                    Kotlin-Code ist in der Regel wesentlich <strong>prägnanter</strong>, dennoch <strong>intuitiv lesbar</strong>.
                </div>
                <div class="left" style="width: 90%; margin: 0 auto;">
                    <h6>Java</h6>
                    <!-- @formatter:off -->
                        <pre class="java"><code>List&lt;String&gt; list = Arrays.asList("a","b","c");
for (int index = 0; index < list.size(); index++) {
    System.out.println(index + " -> " + list.get(index));
}</code></pre>
                        <!-- @formatter:on -->
                    <h6>Kotlin</h6>
                    <!-- @formatter:off -->
                    <pre><code>val list = listOf("a", "b", "c")
for (index in list.indices) {
    println("$index -> ${list[index]}")
}</code></pre>
                        <!-- @formatter:on -->
                </div>
                <div class="decent">
                    Gutes Tooling führt beim Entwickeln
                </div>
                <div class="abs handwritten fragment small"
                     style="transform: rotate(-9deg); left: 210px; top: 394px; color:  red">
                    Immutable!
                </div>
            </section>

            <section class="left">
                <h2>Prägnanz – Die Basics</h2>
                <div class="twocol">
                    <h6>Type inference</h6>
                    <p class="lgap">Typangabe üblicherweise <br>nur an Schnittstellen</p>

                    <h6>Keywords</h6>
                    <p class="lgap" data-markdown>
                        kein `new`, `;` optional     <!-- -->
                        `fun`, `Int`, `val`, `..` …</p>

                    <h6>Konstrukte</h6>
                    <p class="lgap" data-markdown>
                        `data class`       <!-- -->
                        `public` ist Default</p>
                </div>
                <div class="twocol">
                    <h6>Ausdrücke</h6>
                    <p data-markdown class="lgap"> `if`…`else` ist ein Ausdruck,     <!-- -->
                        String Templates  <!-- -->
                        `listOf(…)`, `with()`, …</p>

                    <h6>Konventionen</h6>
                    <p class="lgap">Operatoren, Dekomposition, …</p>
                    <p data-markdown>
                    </p>
                </div>
            </section>

            <section>
                <h3>Data Classes – Kotlin</h3>

                <!-- @formatter:off -->
                <div data-markdown class="twocol" style="padding: 30px 0;">
                    ```kotlin
                    data class Gast(
                        val name: String,
                        var zeit: Date = Date(),
                        val title: Title?
                    )
                    ```
                </div>
                <!-- @formatter:on -->
                <div data-markdown class="twocol left">
                    ##### Werte-Container
                    - Um Methoden erweiterbar
                    - Vererbung ab Kotlin 1.1

                    ##### Kotlin übernimmt
                    - Getter & Setter
                    - `equals()` und `hashCode()`
                    - `toString()`
                    - `copy()` für Varianten
                    - Komfort: `componentN()`
                </div>
            </section>

            <section>
                <h3>... währenddessen im Java-Land</h3>

                <div class="threecol">
                    <pre class="xx-small"><code>public final class Gast {
  @NotNull
  private final String name;
  @NotNull
  private Date zeit;
  @Nullable
  private final Title title;

  @NotNull
  public final String getName() {
    return this.name;
  }

  @NotNull
  public final Date getZeit() {
    return this.zeit;
  }

  public final void setZeit(@NotNull Date date) {
    checkParameterIsNotNull(date, "&lt;set-?&gt;");
    this.zeit = date;
  }

  @Nullable
  public final Title getTitle() {
    return this.title;
  }

  public Gast(@NotNull String name,
              @NotNull Date zeit,
              @Nullable Title title) {
    checkParameterIsNotNull(name, "name");
    checkParameterIsNotNull(zeit, "zeit");
    this.name = name;
    this.zeit = zeit;
    this.title = title;
  }></code></pre>
                </div>
                <div class="threecol">
                    <pre class="xx-small"><code>  public Gast(String string, Date date,
              Title title, int n) {
    if ((n & 2) != 0) {
      date = new Date();
    }
    this(string, date, title);
  }

  @NotNull
  public final String component1() {
    return this.name;
  }

  @NotNull
  public final Date component2() {
    return this.zeit;
  }

  @Nullable
  public final Title component3() {
    return this.title;
  }

  @NotNull
  public final Gast copy(@NotNull String name,
                         @NotNull Date zeit,
                         @Nullable Title title) {
    checkParameterIsNotNull(name, "name");
    checkParameterIsNotNull(zeit, "zeit");
    return new Gast(name, zeit, title);
  }

  public String toString() {
    return "Gast(name=" + this.name +
           ", zeit=" + this.zeit +
           ", title=" + this.title + ")";
  }
</code></pre>
                </div>
                <div class="threecol">
                    <pre class="xx-small"><code>  public int hashCode() {
    String s = this.name;
    Date d = this.zeit;
    Title t = this.title;
    return ((s != null ? s.hashCode() : 0) * 31
          + (d != null ? d.hashCode() : 0)) * 31
          + (t != null ? t.hashCode() : 0);
  }

  public boolean equals(Object object) {
    if (this == object) return true;

    if (!(object instanceof Gast))
        return false;

    Gast gast = (Gast)object;
    if (!areEqual(this.name, gast.name)
        || !areEqual(this.zeit, gast.zeit)
        || !areEqual(this.title, gast.title))
        return false;

    return true;
  }
}</code></pre>
                    <p class="decent">… 3 Attribute!</p>
                </div>
            </section>

            <section>
                <h3>Idiome</h3>

                <!-- @formatter:off -->
                <div data-markdown class="left" style="width: 90%; margin: 0 auto">
                    ##### `if` ist ein Ausdruck
                    ```
                    fun isEven(i: Int) = if (i.mod(2) == 0) "gerade" else "ungerade"
                    ```

                    ##### `with( … ) { }`: Parameter wird im Block zum `this`
                    ```
                    private fun toJSON(aha: Aha): JSONObject {
                        with(JSONObject()) {
                            put(JSON_ID, aha.id.toString())
                            put(JSON_TITLE, aha.title)
                            put(JSON_USEFUL, aha.isUseful)
                            return this
                        }
                    }
                    ```
                    Varianten: `apply()`, `let()` und `use()` als `try-with`-Equivalent
                </div>
                <!-- @formatter:on -->

            </section>

        </section>


        <!--
          === Ausdrucksstärke =====================================================================
        -->
        <section>
            <section class="center">
                <h1>Ausdrucksstärke & Lesbarkeit</h1>
            </section>

            <section>
                <h2>Properties</h2>
                <div>
                    <ul>
                        <li> Klassen in Kotlin kennen keine Felder, nur Properties</li>

                        <li class="tgap">Compiler <strong>generiert</strong>
                            Getter- &amp; Setter-Methoden sowie backing field
                        </li>

                        <li class="tgap"><img src="img/intent-properties.png"
                                              alt="Properties of Android Intent class"
                                              style="float: right; margin: 12px 32px">
                            Auch <code>getX()</code>/<code>setX()</code>-Paare
                            <br>aus <strong>Java-Code</strong> erscheinen als <strong>Properties</strong>

                        </li>
                        <li class="tgap">Properties erlauben <em>Delegation</em> wie <code>by
                            Delegates.notNull()</code> und <code>by lazy { … }</code></li>
                    </ul>
                    <!-- @formatter:off -->
                    <div data-markdown>
                        ```
                        val imm: InputMethodManager by lazy {
                            getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager
                        }
                        ```
                    </div>
                    <!-- @formatter:on -->

                </div>
            </section>

            <!--<section class="left" data-transition="fade-out">-->
                <!--<h3>Automatische Properties für UI-Elemente</h3>-->
                <!--<div class="small">-->
                    <!--<p>Wer kennt sie nicht: Stetige <code>findViewById()</code>-Aufrufe …-->
                <!--</div>-->

                <!--<pre><code class="java">EditText mTitleField = (EditText) v.findViewById(R.id.aha_title);-->
<!--mTitleField.setText(mAha.getTitle());-->

<!--CheckBox usefulBox = (CheckBox) v.findViewById(R.id.aha_useful);-->
<!--usefulBox.setChecked(mAha.isUseful());</code></pre>-->

                <!--<h1 class="tgap fragment">Showtime!</h1>-->

            <!--</section>-->

            <section class="left" data-transition="fade-in">
                <h3>Automatische Properties für UI-Elemente</h3>
                <div class="small">
                    <p>Wer kennt sie nicht: Stetige <code>findViewById()</code>-Aufrufe …
                </div>

                <pre><code class="java">EditText mTitleField = (EditText) v.findViewById(R.id.aha_title);
mTitleField.setText(mAha.getTitle());

CheckBox usefulBox = (CheckBox) v.findViewById(R.id.aha_useful);
usefulBox.setChecked(mAha.isUseful());</code></pre>
                <div class="small">
                    <p>Die <em>Kotlin Android Extensions</em> bieten
                        automatische Extension-Properties. <br><i>Ohne zusätzlichen Code, Annotations</i>
                        oder <i>Runtime!</i>
                    <p>
                        Ein einfacher Import macht daraus <strong>simple, typsichere Properties für UI-Elemente</strong>:
                </div>
                <pre class="kotlin"><code>import kotlinx.android.synthetic.main.fragment_aha.*

aha_title.setText(mAha.title)
aha_useful.isChecked = mAha.isUseful</code></pre>
                <!--<p class="small">Cast und Zugriff auf <code>R.id.*</code> entfallen!</p>-->
            </section>


            <section>
                <div class="container">
                    <h3>Lambda-Ausdrücke</h3>
                    <p class="small left">
                        Anonyme Funktionsausdrücke als Parameter
                        <span class="decent">(hier z.B. bei <code>filter(…)</code>)</span>.
                        <!--… sind anonyme Funktionsausdrücke, die an andere Funktionen <br>-->
                        <!--übergeben werden können-->
                        <!--<span class="decent">(z.B. Bibliotheksfunktionen wie <code>filter()</code>)</span>-->
                    </p>

                    <!-- @formatter:off -->
                    <div data-markdown style="width: 560px; float: left; margin: 0 0px 0 -32px">
                        ```
                        public Aha getAha(UUID id) {
                            for (Aha c : mAhas) {
                                if (c.getId().equals(id))
                                    return c;
                            }
                            return null;
                        }
                        ```
                    </div>
                    <!-- @formatter:on -->

                    <!-- @formatter:off -->
                    <div data-markdown style="width: 560px; float: left; margin: 40px 0">
                        ```
                        fun getAha(id: UUID): Aha?
                          = ahas.filter { it.id == id }
                                .firstOrNull()
                        ```
                    </div>
                    <!-- @formatter:on -->

                    <div data-markdown style="clear: both;" class="small left">
                        ##### Abkürzungen
                        - Nur ein Lambda-Parameter? `x -> …` kann durch `it` ersetzt werden
                        - letzter Aufruf-Parameter = Lambda? Runde Klammern können entfallen
                        - wie in Java 8: Lambda erfüllen Single Abstract Methods (SAM)
                    </div>
                    <!-- @formatter:off -->
                    <div data-markdown style="clear: both;" class="left">
                        ```
                        el.setOnClickListener { Toast.makeText(ctx, "Hi!", 0).show() }
                        ```
                    </div>
                    <!-- @formatter:on -->
                </div>
            </section>


            <section>
                <h3>Einsatz in vielen Bibliotheksfunktionen</h3>

                <!-- @formatter:off -->
                <div data-markdown="" style="width: 90%; margin: 60px auto 0 auto">
                    <script type="text/template">
                    ```
                    println("I will not ...")
                    repeat(3) { println("  ...repeat myself") }
                    ```

                    How it works<!-- .element: class="decent tgap " -->
                    ```
                    public inline fun repeat(times: Int, action: (Int) -> Unit) {
                        for (index in 0..times - 1) {
                            action(index)
                        }
                    }
                    ```

                    `inline`: Wirkung wie Makro-Element. *Kein Funktionsoverhead!*
                    </script>
                </div>
                <!-- @formatter:on -->
            </section>


            <section>
                <h3>Extension methods</h3>

                <div data-markdown class="tgap">
                    <script type="text/template">
                        - ermöglicht die Erweiterung fremder Klassen um statische  Methoden
                        - `this` zeigt auf das erweitertete Objekt  <!-- -->

                        Am Beispiel eines Android-`Fragment`:

                        <!-- @formatter:off -->
                        ```
                        fun Fragment.toast(message: String, duration: Int = Toast.LENGTH_SHORT) {
                          Toast.makeText(getActivity(), message, duration).show()
                        }

                        fragment.toast("Hello world!")
                        ```
                    </script>
                    <!-- @formatter:on -->
                </div>
            </section>


            <!--<section class="center"><h1>Showtime!</h1></section>-->


            <section class="center">
                <h2>Funktionen als <br>first-class elements</h2>

                <div class="left" style="width: 80%; margin: 20px auto">
                    <p>Funktionen sind Sprachelemente erster Klasse und können daher auch
                        als <em>Variablen, Properties, Parameter</em> und <em>Rück&shy;gabe&shy;werte</em> genutzt werden.</p>

                    <p class="fragment"> Durch Verschachtelung lassen sich
                        <em>Funktionen höherer Ordnung</em>
                        <i>(Higher-order functions)</i>
                        erschaffen
                    </p>
                </div>
            </section>


            <section>
                <h3>Higher-order functions – Beispiel</h3>

                <div>
                <pre style="width: 76%; margin: 0"><code class="kotlin">class FirstClassFunction(
        val f1: (String) -> Int,
        val f2: (Int) -> Boolean) {

    fun strToBool(str: String): Boolean {
        val f: (String) -> Boolean = higherOrderFun()
        return f(str)
    }

    private fun higherOrderFun(): (String) -> Boolean {
        return { x -> f2(f1(x)) }
    }
}

fun main(args: Array&lt;String&gt;) {
    val c = FirstClassFunction(
                Integer::parseInt,
                { it % 2 == 0 }
            )
    val strings = listOf("2", "7", "8")
    println(strings.filter(c::strToBool)) // Kotlin 1.1+
}</code></pre>
                </div>

                <div class="abs" style="top: 100px; left: 954px; width: 30%">
                    <p style="text-align: left; line-height: .83em; font-size: .8em">
                        &nbsp;<br>
                        <span class="fragment">&leftarrow; Funktion als <em>Parameter</em><br></span>
                        &nbsp;<br>
                        &nbsp;<br>
                        &nbsp;<br>
                        <span class="fragment">&leftarrow; Funktion als <em>Variable</em><br>
                        &nbsp;<br>
                        &nbsp;<br>
                        &nbsp;<br>
                        <span class="fragment">&leftarrow; Funk. als <em>Rückgabewert</em></span><br>
                        <span class="fragment">&leftarrow; <em>Kombination</em> via <em>Lambda</em></span><br>
                        <br></span>
                        <br></span>
                        &nbsp;<br>
                        &nbsp;<br>
                        &nbsp;<br>
                        <span class="fragment">&leftarrow; Funk.-<em>Referenz</em> </span><br>
                        <span class="fragment">&leftarrow; <em>Lambda</em>-Ausdruck</span><br>
                        &nbsp;<br>
                        &nbsp;<br>
                        <span class="fragment">&rightarrow; <i>Was kommt raus?</i> </span><br>
                        <br>
                    </p>
                </div>
            </section>


            <section>
                <h3>Konventionen - Operatoren</h3>

                <div data-markdown class="tgap">
                    Feste Menge & Reihenfolge an Operatoren (vs. Scala).  <!-- -->
                    Diese werden über Namenskonventionen gemapped:
                </div>
                <div data-markdown class="tgap container left">
                    `+` &rightarrow; `.plus()`

                    `-` &rightarrow; `minus()`

                    `..` &rightarrow; `.rangeTo()`

                    `[x]` &rightarrow; `get(x)`
                </div>
            </section>


            <section>
                <h3>Infix Notation</h3>

                <div data-markdown class="container">
                    - Sind Member-Funktionen oder Extension Methods
                    - Haben einen einzigen Parameter
                    - Und sind mit dem `infix` Schlüsselwort markiert

                    <!-- @formatter:off -->
                    ```kotlin
                    infix fun Int.shl(x: Int): Int {
                      …
                    }

                    1 shl 2

                    // als Equivalent zu

                    1.shl(2)
                    ```
                    <!-- @formatter:on -->
                </div>
            </section>


            <section>
                <h3>Typsichere DSLs über „Empfänger“-Objekt</h3>

                <p class="small left" style="width: 94%; margin: 0 auto">
                    Es ist möglich, Funktionssignaturen zu definieren, die Lambda-Ausdrücke
                    erwarten bei denen <code>this</code> auf Zielobjekte eines bestimmten Typs zeigen.
                </p>
                <p class="small left decent" style="width: 94%; margin: 20px auto">
                    Darüber sind typsichere DSLs möglich:
                </p>

                <!-- @formatter:off -->
                <div data-markdown style="width: 52%; margin: 0">
                    ```kotlin
                    class HTML {
                        fun body() { ... }
                    }

                    fun html(init: HTML.() -> Unit): HTML {
                      val html = HTML()
                      html.init()
                      return html
                    }

                    html {
                        body()
                    }
                    ```
                </div>
                <!-- @formatter:on -->

                <div class="abs" style="top: 284px; left: 610px; width: 60%">
                    <p style="text-align: left; line-height: .83em; font-size: .8em">
                        &nbsp;<br>
                        &nbsp;<br>
                        &nbsp;<br>
                        &nbsp;<br>
                        <span class="fragment">&leftarrow; Erwartet Funktion mit <code>this</code>
                            vom Typ <code>HTML</code></span><br>
                        <span class="fragment">&leftarrow; Erstellung des <i>receiver object</i> </span><br>
                        <span class="fragment">&leftarrow; Führe Lambda auf <i>receiver object</i>  aus</span><br>
                        <br>
                        <br>
                        <br>
                        <span class="fragment">&leftarrow; Kurzform von <code>html({…})</code></span><br>
                        <span class="fragment">&leftarrow; <em>Lambda</em>-Ausdruck für einen <code>HTML</code>-„Empfänger“</span><br>
                    </p>
                </div>
            </section>


            <!--<section class="center"><h1>Showtime!</h1></section>-->


            <section>
                <h3>Anko: Android-DSL für XML</h3>

                <!-- @formatter:off -->
                <div data-markdown>
                    ```kotlin
                    relativeLayout {
                        lparams(width = matchParent, height = matchParent)
                        backgroundResource = R.drawable.background_activated

                        checkBox {
                            enabled = false
                            gravity = Gravity.CENTER
                            padding = dip(4)
                            lparams(width = wrapContent, height =  wrapContent)  {
                                alignParentRight()
                            }
                        }

                        textView {
                            textResource = R.string.aha_title
                            rightPadding = dip(4)
                            leftPadding = dip(4)
                            lparams(width = matchParent, height =  wrapContent) {
                                leftOf(cb)
                            }
                        }
                    }
                    ```

                </div>
                <!-- @formatter:on -->
            </section>
        </section>


        <!--
          === Interoperabilität ==================================================================
        -->
        <section>
            <section class="center">
                <h1>Interoperabilität</h1>
            </section>

            <section>
                <h3>Java Interoperabilität – Allgemeines</h3>
                <ul>
                    <li>Klassenweises <em>Mischen von Java &amp; Kotlin-Code</em> problemlos</li>
                    <li>Alle Java-Bibliotheken können direkt genutzt werden</li>
                    <li>Kotlin &rightarrow; Java in der Regel nahtlos; Java 7/8/9 ab Kotlin 1.1
                    <li>Java &rightarrow; gelegentlich sperriger
                        <ul style="font-size: .86em" class="decent small">
                            <li>kein direktes <code>static</code> in Kotlin, sondern <i>companion object</i>
                                <!-- @formatter:off -->
                                <pre><code class="small">public static final int VISIBLE = 0x00000000;
                                    &downarrow;
companion object {
    @JvmField val VISIBLE: Int = 0x00000000
}</code></pre>
                                <!-- @formatter:on -->
                            </li>
                            <li>SAMs mit <code>void</code> statt <code>Unit</code></li>
                            <li>Kein <i>package protected</i> in Kotlin</li>
                        </ul>
                        <p>→ Für die API von Java-Libraries eher in Java bleiben</p>
                    </li>
                </ul>
            </section>

            <section>
                <div class="left container">
                    <h3>Java Interoperabilität – Android</h3>
                    <h6>Pro:</h6>
                    <ul>
                        <li>volle Java 6-Kompabilität & nahtlose Studio-Integration</li>
                        <li>kleine Runtime, kein/geringer Overhead dank <code>inline</code> &amp; Co.</li>
                        <li>Mischen von Code &amp; Java-Konverter</li>
                        <li>Signifikanter Effizienzgewinn durch Sprache und Android Extensions</li>
                        <li>Einsparpotential: Kotlin stdlib ersetzt einige, übliche Java-Bibliotheken</li>
                    </ul>

                    <h6>Con:</h6>
                    <ul>
                        <li>Durch öffentliche Properties wächst die Methoden-Anzahl stärker<br>
                            <span class="decent lgap">&rightarrow; 64k Methodenlimit von Android / DEX <br></span>
                            <span class="decent lgap">&rightarrow; ggf. <code>private</code> und <code>@JvmField</code> bevorzugen</span>
                        </li>
                        <li>UI XML vs. Anko: eher ambivalent</li>
                    </ul>
                </div>
            </section>

        </section>


        <!--
          === Tooling =============================================================================
        -->
        <section>
            <section class="center">
                <h1>Tooling</h1>
            </section>

            <section>
                <h3>Fokus: Gute Toolbarkeit</h3>
                <div data-markdown style="width: 82%; margin: 40px auto">
                    <script type="text/template">
                        - Ziel: Compiler *vergleichbar schnell wie Java* (vs. Scala)

                        - *Gute Auto-Completion* und *Hinweise & Inspections in der IDE* <br>    <!-- -->
                         mit DSLs Grund #1 für Gradle auf Kotlin zu setzen

                        - *Automatische Konvertierung* von Klassen und Copy&Paste
                        ![Convert Java Code](img/convert-java.png)<!-- .element: class="plain" style="margin: 0 140px;" -->

                        - Refactoring hinkt noch etwas hinterher<!-- .element: class="decent" -->
                    </script>
                </div>
            </section>

            <section>
                <h3>Lernen: Kotlin Koans</h3>
                <img data-src="img/koans-edu-plugin.png"
                     alt="Kotlin Educational Plugin mit Kotlin Koans">
            </section>

        </section>

        <!--
          === Fazit ==== =========================================================================
        -->
        <section>

            <section class="center">
                <h1>Fazit</h1>
            </section>

            <!--<section>
                <h2>The Good vs. The Bad vs. The Ugly</h2>
                <div data-markdown>
                    - Leicht & intuitiv erlernbar! Vieles erschließt sich über Auto-Completion & Intuition
                    - Macht viel Spass & Freude in der Verwendung!
                    - Kotlin-Konverter der Beispiele nicht empfehlenswert
                    * Non-Nullables die in der Praxis doch welche sind
                    * `feld!!.foo` statt `lokaleVar.foo`.
                    Speziell die UI Referenzen (nach`onCreate`)
                    - kein static! (compantion object)
                    - kein package protected
                </div>
            </section>-->


            <section>

                <h2>Quellen &amp; Materalien</h2>

                <div class="threecol small left" data-markdown>
                    ##### Materialien für den Einstieg
                    * [*kotlinlang.org*](https://kotlinlang.org/)
                    * [*Kotlin Koans*](https://github.com/Kotlin/kotlin-koans)   <!--  -->
                       auch online: [try.kotl.in](http://try.kotl.in)
                       in IntelliJ: [Kotlin Edu Plugin](https://blog.jetbrains.com/kotlin/2016/03/kotlin-educational-plugin/)
                    * [Ein Überblick über Java-Alternativen für den industriellen
                    Einsatz](http://www.heise.de/developer/artikel/Ein-Ueberblick-ueber-Java-Alternativen-fuer-den-industriellen-Einsatz-2074554.html),
                    Benjamin Schmid
                </div>

                <div class="threecol small left" data-markdown>
                    ##### Referenzen
                    - [Sprachreferenz](http://kotlinlang.org/docs/reference/)

                    ##### Verzeichnisse
                    - [Awesome Kotlin](http://kotlin.link/)
                    - [OSS Projects & Libraries](https://kotlinlang.org/docs/resources.html)

                    ##### Diverses
                    - [*@kotlin*](https://twitter.com/kotlin) & [*@bentolor*](https://twitter.com/bentolor)
                </div>

                <div class="threecol small left" data-markdown>
                    ##### Nennenswerte Frameworks
                    - [KAndroid](https://github.com/pawegio/KAndroid)
                    - [Fuel](https://github.com/kittinunf/Fuel) (HTTP f. Android)
                    - [RxKotlin](https://github.com/ReactiveX/RxKotlin) (Reactive)
                    - [spek](https://github.com/jetbrains/spek) (Testing)
                    - [kovenant](https://github.com/mplatvoet/kovenant)  <!-- -->
                      (Android Promises)
                    - [kotlinx.support](https://github.com/Kotlin/kotlinx.support)  <!-- -->
                       (JDK7/8 features)
                    - [Klaxon](https://github.com/cbeust/klaxon) (JSON)
                </div>

                <div class="x-small" style="padding-top: 60px; clear: left" data-markdown>
                    Bildnachweis:
                    [Kotlin Islands Maps](https://commons.wikimedia.org/wiki/File:Kotlin_Island_1706.png),
                    [Atomic bomb
                    explosion](https://www.pond5.com/stock-footage/37592494/fireball-and-smoke-formation-out-atomic-blast.html),
                    [Android Robot](https://commons.wikimedia.org/wiki/File:Android_robot.svg),
                    [Kotlin Logo](https://resources.jetbrains.com/assets/products/kotlin/kotlin_logos.zip),
                    [Hand-written arrows](http://designercandies.net/hand-drawn-arrows-brush/)
                </div>

            </section>

        </section>

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,
        progress: true,
        slideNumber: true,
        mouseWheel: true,
        controls: false,
        fragments: true,
        width: 1280,
        height: 720,
        margin: 0.1,
        maxScale: 10,
        center: false,
        parallaxBackgroundImage: 'img/kotlin-island-map-light.png', // 'http://jamescroft.co.uk/wp-content/uploads/2015/01/217-L6YVU1.jpg',
        parallaxBackgroundSize: '4177px 2118px',

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true}  // Zoom in and out with Alt+click
        ]
    });
</script>
</body>
</html>

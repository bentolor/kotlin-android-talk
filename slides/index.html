<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Kotlin für die moderne Android-Entwicklung</title>
    <meta name="description"
          content="Android-Entwickler können nur sehnsüchtig seufzen: Die neuen Java-8-Möglichkeiten bleiben ihnen vorenthalten.
              Abhilfe schafft hier die Programmiersprache Kotlin, welche dieses Jahr die 1.0 erreicht hat. Ausdrucksstarke Syntax,
              nahtlose Android Studio-Integration, funktionale Features und die vollständige Binär- und Codekompatibilität mit Java 6
              machen Kotlin auch unter Android zu einer idealen Alternative. In dieser Session erleben wir live, wie es sich anfühlt,
              die NullpointerException gegen moderne Sprachfeatures einzutauschen. Eine einfache Beispiel-App hilft beim Kennenlernen,
              sodass auch Neueinsteiger gut folgen können und interessante Einblicke in Kotlin und Android gewinnen.">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Custom, overriding CSS -->
    <link rel="stylesheet" href="css/custom.css">


    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">

        <!--
          === Title ===============================================================================
        -->

        <section>
            <div style="text-align: left;">
                <h1 style="margin: 340px 0 0 0; font-size: 1.9em;">Russisch unterwegs!</h1>
                <!--<h5><i> Lightning Talk:</i></h5>-->
                <h3 style="" class="emphasize">
                    Kotlin für die <br>moderne Android-Entwicklung
                </h3>
            </div>

            <div id="version">
                2016-08-22
            </div>

            <div class="profile" style="position: absolute; top: 20px; left: 550px;">
                <div class="profile-sidebar">
                    <div class="profile-userpic">
                        <img data-src="img/BenjaminSchmid.jpg" class="img-responsive" alt="">
                    </div>
                    <div class="profile-usertitle">
                        <div class="profile-usertitle-name">
                            Benjamin Schmid
                        </div>
                        <div class="profile-usertitle-job">
                            Technology Advisor
                        </div>
                    </div>
                </div>
                <div class="profile-content">
                    <a href="https://twitter.com/bentolor">@bentolor</a>
                </div>
            </div>

            <div id="rightsection">
                <code>?</code> for help
            </div>

            <div id="licence">
                <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource"
                           property="dct:title" rel="dct:type">
                    Kotlin für die moderne Android-Entwicklung
                </span>
                by
                <a xmlns:cc="http://creativecommons.org/ns#" href="https://twitter.com/bentolor"
                   property="cc:attributionName" rel="cc:attributionURL">
                    Benjamin Schmid
                </a>
                is licensed under a
                <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                    Creative Commons License (BY-NC-SA/4.0)
                </a>.
                <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                    <img alt="Creative Commons Lizenzvertrag"
                         src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"/>
                </a>

            </div>
        </section>


        <!--
          === Overview ============================================================================
        -->


        <section>

            <!--<section>-->
            <div>
                <div data-markdown>
                    ## Datasheet
                </div>
                <div style="width: 85%; margin: 0 auto;">
                    <div data-markdown class="twocol">
                        ##### Datasheet
                        - **82** JEP targeted
                        - GA Release:   <!-- -->
                        ~~2016-09-22~~ **2017-03-23**
                        - Brewing since: 2014-08-11
                    </div>
                    <div data-markdown class="twocol">
                        ##### Highlights
                        - Jigsaw
                        - Tooling
                        - HTTP API
                        - Language details
                    </div>
                </div>
            </div>
            <!--</section>-->

        </section>

        <!--
          === Tooling =============================================================================
        -->

        <section>

            <section>

                <div data-markdown>
                    # Tooling
                </div>
            </section>

            <section>
                <div data-markdown>
                    <script type="text/template">
                        ### REPL: `jshell`

                        ```
                        ⋊> ~ jshell
                        |  Welcome to JShell -- Version 9-ea
                        |  For an introduction type: /help intro

                        jshell> 3 + 4 * 7
                        $1 ==> 31

                        jshell> int add(int a, int b) {
                        ...>   return a+b;
                        ...> }
                        |  created method add(int,int)

                        jshell> add(25, $1)
                        $3 ==> 56
                        ```
                        <!-- .element: class="small" -->

                        Get an overview with `/help` and  `/help shortcuts`
                    </script>
                </div>
            </section>

            <section>
                <div data-markdown class="container">
                    <script type="text/template">
                        ### HTML5 Javadoc
                        - Enable via `-html5` parameter
                        - Search capability
                        - HTML5 & updated Doclet API
                        - Improved DocLint: <span>`-Xdoclint/package:java.*,javax.*`</span> <!-- .element: class="small" -->
                    </script>
                </div>
            </section>


            <section>
                <h3>HTML5 Javadoc example output</h3>
                <img src="img/javadoc-html5-example.png" alt="Example Java 9 Javadoc output with HTML5 enabled">
            </section>


            <section>
                <div data-markdown style="width: 60%; margin: 0 auto;">
                    <script type="text/template">
                        ### Cross compiling
                        #### and the `javac -release` flag
                        ````
                        javac - release N
                        ````
                        <!-- .element: class="small" -->

                        ...is equivalent to

                        ````
                        javac -source N -target N –bootclasspath rtN.jar ...
                        ````
                        <!-- .element: class="small" -->
                    </script>
                </div>
            </section>


        </section>


        <section>


            <section>
                <div class="small">
                    <div data-markdown>
                        ## Language details
                    </div>

                    <div class="twocol">
                        <div data-markdown>
                            <script type="text/template">
                                ##### Process Control
                                - Retrieve & inspect processes
                                - Kill processes

                                ##### Collections
                                ```
                                List/Map/Set.of(1, 2, 3);
                                ```

                                ##### Enhanced Deprecated
                                ````java
                                @Deprecated(since ="1.5", forRemoval = true)
                                ````

                            </script>
                        </div>
                    </div>
                    <div class="twocol" data-markdown>
                        <script type="text/template">
                            ##### Stream
                            ```
                            InputStream.transferTo(OutputStream out);
                            ```

                            ##### StackWalker

                            ##### Package name
                            ````
                            this.getClass().getPackageName()
                            ````
                        </script>
                    </div>
                </div>
            </section>

            <section>
                <div data-markdown>
                    ### Process Control
                    ````java
                    <pre>// Get PIDs of own or started processes
                    out.println("Your pid is " + ProcessHandle.current().getPid());

                    Process p = Runtime.getRuntime().exec("sleep 1h");
                    ProcessHandle h = ProcessHandle.of(p.getPid())  // Optional
                            .orElseThrow(IllegalStateException::new);

                    // Do things on exiting process          // CompletableFuture
                    h.onExit().thenRun( ()-&gt; out.println("Sleeper exited") );

                    // Get info on process
                    out.printf("[%d] %s - %s\n", h.getPid(),
                               h.info().user().orElse("unknown"),
                               h.info().commandLine().orElse("none"));

                    // Kill a process
                    h.destroy();</pre>
                    ````
                </div>
            </section>

            <section>
                <div data-markdown>
                    ### Immutable Collection Factories
                    ````java
                    <pre>/* Comment sections would break ... */
                    List&lt;Integer&gt; listOfNumbers = List.of(1, 2, 3, 4, 5/*, null*/);

                    Set&lt;Integer&gt; setOfNumbers = Set.of(1, 2, 3, 4, 5/*, 1*/);

                    Map&lt;String, String&gt; mapOfString =
                        Map.of("key1", "value1", "key2", "value2");

                    Map&lt;String, String&gt; moreMapOfString =
                        Map.ofEntries(
                            Map.entry("key1", "value1"),
                            Map.entry("key2", "value2")/*,
                            Map.entry("key1", "value3")*/
                    );
                    ````
                    </pre>
                </div>
            </section>

            <section>
                <div data-markdown>
                    ### StackWalker
                    ````java
                    <pre>// return class/method only for our classes.
                    private static List&lt;String&gt; walkAndFilterStackframe() {
                      return StackWalker.getInstance().walk(s -&gt;
                        s.map( frame-&gt; frame.getClassName()+"/"+frame.getMethodName())
                               .filter(name -&gt; name.startsWith("de.exxcellent"))
                               .limit(10)
                               .collect(Collectors.toList()) );
                    }</pre>
                    ````
                </div>
            </section>

            <section>
                <div data-markdown>
                    ### New Input Stream Utilities
                    ````java
                    <pre>// All bytes from an InputStream at once
                    byte[] result = new ByteArrayInputStream(buf)
                        .readAllBytes();

                    // Directly redirect an InputStream to an OutputStream
                    new ByteArrayInputStream(buf)
                        .transferTo(System.out);</pre>
                    ````
                </div>
            </section>

        </section>


        <!--
          === Details =============================================================================
        -->
        <section>


            <section>
                <div data-markdown>
                    # Jigsaw
                </div>
            </section>

            <section>
                <div data-markdown>
                    <script type="text/template">
                        ## Jigsaw [JEP 201](http://openjdk.java.net/jeps/201)<!-- .element: class="jep" -->

                        > Modules bundle together one or more packages
                        > and offer stronger encapsulation than jars

                        - Allow **scaled down runtime JAR**  &rarr; IoT
                        - **Stronger:** In a module: `public` is no longer public to others
                        - _Sad:_ No module versioning

                    </script>
                </div>
            </section>


            <section>
                <div data-markdown>
                    <script type="text/template">
                        ### How it works (1)
                        `module-info.java` files declare dependencies

                        ```java
                        module com.mysql.jdbc {
                        // Module dependency
                        requires java.sql;

                        // exported package in module
                        exports com.mysql.jdbc;

                        // Implements service with instance
                        provides java.sql.Driver with com.mysql.jdbc.Driver;
                        }
                        ```
                    </script>
                </div>
            </section>


            <section>
                <div data-markdown class="container">
                    <script type="text/template">
                        ### How it works (2)
                        ##### Changes to `javac` and `java` to use modules instead of JARs
                        ````
                        javac -mp modulepath ...
                        java  -mp modulepath -m modulename/moduleclass
                        ````

                        ##### Linker
                        `jlink` can be used to link a set of modules, along with their transitive dependences,
                        to create a custom modular run-time image

                    </script>
                </div>
            </section>


            <section>
                <div data-markdown>
                    <script type="text/template">
                        ### `ServiceLoader` using modules (1)
                        ````
                        public abstract class BillingService {

                        }
                        ````
                    </script>
                </div>
            </section>

            <section>
                <div data-markdown style="font-size: .9em;">
                    <script type="text/template">
                        ### `ServiceLoader` using modules (2)
                        ````java
                        module anothermodule {
                        exports de.exxcellent.anothermodule;
                        requires de.exxcellent.java9;

                        // Provide Service instance (SPI with Jigsaw modules)
                        provides de.exxcellent.java9.jigsaw.spi.BillingServiceProvider
                        with de.exxcellent.anothermodule.spi.MastercardBillingServiceProvider;
                        }
                        ````
                    </script>
                </div>
            </section>


            <section>
                <div data-markdown>
                    <script type="text/template">
                        ### How it works (3)
                        ````
                        $ mkdir -p target/module/de.exxcellent.java9
                        $ mkdir -p target/module/anothermodule

                        $ javac $(find playground/src/main/java -name "*.java") \
                        -d target/module/de.exxcellent.java9
                        $ javac $(find playground-dependent/src/main/java -name "*.java")\
                        -d target/module/anothermodule \
                        -modulepath target/module

                        $ java  -modulepath target/module \
                        -m anothermodule/de.exxcellent.anothermodule.TestJigsawSPI
                        Mastercard billed the money!

                        ````
                    </script>
                </div>
            </section>


            <section>
                <div class="container">
                    <div data-markdown>
                        ### Tools
                        - List built-in modules: `java –listmods`
                        - Find dependencies: `jdeps –jdkinternals app.jar`
                    </div>
                    <div data-markdown style="margin-top: 60px;">
                        ### Ressources
                        - [JVM Module Summary](http://cr.openjdk.java.net/~mr/jigsaw/ea/module-summary.html)
                        - [The State of the Module System](http://openjdk.java.net/projects/jigsaw/spec/sotms/)
                    </div>
                </div>
            </section>


        </section>


        <section>
            <section>
                <div class="small">
                    <div data-markdown>
                        ## Many (obscure) Details
                    </div>

                    <div class="twocol" data-markdown>
                        <script type="text/template">
                            ##### Performance
                            - Improve Contended Locking [JEP 102](http://openjdk.java.net/jeps/143)<!-- .element: class="jep" -->
                            - Segmented Code Cache [JEP 197](http://openjdk.java.net/jeps/197)<!-- .element: class="jep" -->
                            - Smart Java Compilation [JEP 199](http://openjdk.java.net/jeps/199)<!-- .element: class="jep" -->

                            ##### Unified JVM Logging
                            - Same logging for _whole_ JVM (GC, ...)
                            [JEP 158](http://openjdk.java.net/jeps/158) <!-- .element: class="jep" -->

                            ##### Obscure stuff
                            - JVM Compiler Control [JEP 165](http://openjdk.java.net/jeps/165)<!-- .element: class="jep" -->
                            - UDP Security (DTLS) [JEP 219](http://openjdk.java.net/jeps/219)<!-- .element: class="jep" -->
                            - Variable Handles [JEP 193](http://openjdk.java.net/jeps/139)<!-- .element: class="jep" -->
                            - Remove depcreated GC combinations
                            [JEP 214](http://openjdk.java.net/jeps/214) <!-- .element: class="jep" -->
                            - Process Import Statements Correctly
                            [JEP 216](http://openjdk.java.net/jeps/216) <!-- .element: class="jep" -->

                        </script>
                    </div>

                    <div class="twocol" data-markdown>
                        <script type="text/template">
                            ##### HTTP 2 Client
                            -  implements HTTP/2 and WebSocket
                            [JEP 110](http://openjdk.java.net/jeps/110) <!-- .element: class="jep" -->


                            ##### Fixes / Enhancements
                            - UTF-8 Property Files
                            [JEP 226](http://openjdk.java.net/jeps/226) <!-- .element: class="jep" -->
                            - HiDPI Graphics on Windows and Linux
                            [JEP 263](http://openjdk.java.net/jeps/263) <!-- .element: class="jep" -->
                            - Milling Project Coin <span>(5 enhancements)</span> <!-- .element: class="decent small" -->
                            [JEP 213](http://openjdk.java.net/jeps/213) <!-- .element: class="jep" -->
                            - Elide Deprecation Warnings on Imports Statements
                            [JEP 211](http://openjdk.java.net/jeps/211) <!-- .element: class="jep" -->
                            - Resolve Lint and Doclint Warnings
                            [JEP 212](http://openjdk.java.net/jeps/212) <!-- .element: class="jep" -->
                        </script>
                    </div>

                </div>
            </section>

        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
                          history: true,
                          progress: true,
                          slideNumber: true,
                          mouseWheel: true,
                          parallaxBackgroundImage: null, // 'http://jamescroft.co.uk/wp-content/uploads/2015/01/217-L6YVU1.jpg',
                          parallaxBackgroundSize: '1920px 1080px',

                          // More info https://github.com/hakimel/reveal.js#dependencies
                          dependencies: [
                              {src: 'plugin/markdown/marked.js'},
                              {src: 'plugin/markdown/markdown.js'},
                              {src: 'plugin/notes/notes.js', async: true},
                              {
                                  src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                                  hljs.initHighlightingOnLoad();
                              }
                              },
                              {src: 'plugin/zoom-js/zoom.js', async: true}  // Zoom in and out with Alt+click
                          ]
                      });
</script>
</body>
</html>
